<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jinwoo's Story</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* í…ìŠ¤íŠ¸ ê·¸ë¦¼ì (ê°€ë…ì„± í–¥ìƒ) */
        .shadow-text {
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        /* í‹°ì»¤ ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes scroll-left {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(-50%);
            }
        }

        .ticker-scroll {
            animation: scroll-left 60s linear infinite;
        }

        .ticker-container:hover .ticker-scroll {
            animation-play-state: paused;
        }

        /* ìŠ¤í”¼ë„ˆ ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .spinner {
            animation: spin 1s linear infinite;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-sky-400 via-blue-300 to-cyan-400 min-h-screen">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // ê¸ˆìœµ í‹°ì»¤ ì»´í¬ë„ŒíŠ¸
        function FinanceTicker() {
            const [tickerData, setTickerData] = useState([]);
            const [loading, setLoading] = useState(true);
            const [error, setError] = useState(false);
            const [updateTime, setUpdateTime] = useState('');

            // í‘œì‹œí•  ê¸ˆìœµ ìƒí’ˆ ëª©ë¡
            const FINANCIAL_SYMBOLS = {
                '^GSPC': 'S&P 500',
                '^DJI': 'ë‹¤ìš°ì¡´ìŠ¤',
                '^IXIC': 'ë‚˜ìŠ¤ë‹¥',
                '^KS11': 'ì½”ìŠ¤í”¼',
                '^KQ11': 'ì½”ìŠ¤ë‹¥',
                '^HSI': 'í•­ì…',
                '^N225': 'ë‹ˆì¼€ì´',
                'GC=F': 'ê¸ˆ',
                'CL=F': 'ì›ìœ ',
                '^TNX': 'ë¯¸ 10ë…„ë¬¼',
            };

            // ê°œë³„ ì¢…ëª© ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
            const fetchStockData = async (symbol) => {
                try {
                    const proxyUrl = `https://api.allorigins.win/get?url=${encodeURIComponent(
                        `https://query1.finance.yahoo.com/v8/finance/chart/${symbol}`
                    )}`;
                    
                    const response = await fetch(proxyUrl);
                    const data = await response.json();
                    const yahooData = JSON.parse(data.contents);
                    
                    if (yahooData.chart && yahooData.chart.result && yahooData.chart.result[0]) {
                        const result = yahooData.chart.result[0];
                        const quote = result.meta;
                        
                        const currentPrice = quote.regularMarketPrice || 0;
                        const previousClose = quote.previousClose || quote.chartPreviousClose || 0;
                        const change = currentPrice - previousClose;
                        const changePercent = previousClose ? (change / previousClose * 100) : 0;
                        
                        return {
                            symbol: symbol,
                            name: FINANCIAL_SYMBOLS[symbol],
                            price: currentPrice,
                            change: change,
                            changePercent: changePercent,
                            currency: quote.currency || 'USD'
                        };
                    }
                    
                    throw new Error('Invalid data structure');
                    
                } catch (error) {
                    console.error(`Error fetching ${symbol}:`, error);
                    return null;
                }
            };

            // ëª¨ë“  ê¸ˆìœµ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
            const fetchAllFinancialData = async () => {
                try {
                    setLoading(true);
                    const promises = Object.keys(FINANCIAL_SYMBOLS).map(symbol => 
                        fetchStockData(symbol)
                    );
                    
                    const results = await Promise.all(promises);
                    const validData = results.filter(item => item !== null);
                    
                    if (validData.length > 0) {
                        setTickerData(validData);
                        setError(false);
                        updateTimeDisplay();
                    } else {
                        setError(true);
                    }
                } catch (error) {
                    console.error('Error fetching financial data:', error);
                    setError(true);
                } finally {
                    setLoading(false);
                }
            };

            // ì‹œê°„ ì—…ë°ì´íŠ¸
            const updateTimeDisplay = () => {
                const now = new Date();
                const hours = String(now.getHours()).padStart(2, '0');
                const minutes = String(now.getMinutes()).padStart(2, '0');
                setUpdateTime(`${hours}:${minutes}`);
            };

            // ìˆ«ì í¬ë§·íŒ…
            const formatNumber = (num, decimals = 2) => {
                if (typeof num !== 'number' || isNaN(num)) return '0.00';
                return num.toFixed(decimals).replace(/\B(?=(\d{3})+(?!\d))/g, ',');
            };

            // ë³€ë™ í´ë˜ìŠ¤ ê²°ì •
            const getChangeClass = (change) => {
                if (change > 0) return 'bg-green-500/20 text-green-300';
                if (change < 0) return 'bg-red-500/20 text-red-300';
                return 'bg-gray-500/20 text-gray-300';
            };

            const getChangeSymbol = (change) => {
                if (change > 0) return 'â–²';
                if (change < 0) return 'â–¼';
                return 'ï¼';
            };

            // ì´ˆê¸° ë¡œë“œ ë° 5ë¶„ë§ˆë‹¤ ì—…ë°ì´íŠ¸
            useEffect(() => {
                fetchAllFinancialData();
                const interval = setInterval(fetchAllFinancialData, 300000); // 5ë¶„
                return () => clearInterval(interval);
            }, []);

            return (
                <div className="mb-8 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl shadow-lg overflow-hidden">
                    {/* ìƒë‹¨ ì •ë³´ ë°” */}
                    <div className="flex justify-between items-center px-4 py-2 bg-black/20">
                        <span className="text-white text-sm font-semibold">
                            ğŸ“Š ì‹¤ì‹œê°„ ê¸ˆìœµì •ë³´
                        </span>
                        <span className="text-white/70 text-xs">
                            {updateTime && `${updateTime} ì—…ë°ì´íŠ¸`}
                        </span>
                    </div>

                    {/* í‹°ì»¤ ì»¨í…Œì´ë„ˆ */}
                    <div className="relative h-14 overflow-hidden ticker-container">
                        {/* ì¢Œìš° ê·¸ë¼ë°ì´ì…˜ */}
                        <div className="absolute left-0 top-0 bottom-0 w-8 bg-gradient-to-r from-blue-600 to-transparent z-10 pointer-events-none"></div>
                        <div className="absolute right-0 top-0 bottom-0 w-8 bg-gradient-to-l from-purple-600 to-transparent z-10 pointer-events-none"></div>

                        {loading && (
                            <div className="flex items-center justify-center h-full">
                                <div className="w-5 h-5 border-2 border-white/30 border-t-white rounded-full spinner mr-2"></div>
                                <span className="text-white/70 text-sm">ë°ì´í„° ë¡œë”©ì¤‘...</span>
                            </div>
                        )}

                        {error && !loading && (
                            <div className="flex items-center justify-center h-full">
                                <span className="text-yellow-300 text-sm">
                                    âš ï¸ í˜„ì¬ ê¸ˆìœµ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
                                </span>
                            </div>
                        )}

                        {!loading && !error && tickerData.length > 0 && (
                            <div className="flex absolute ticker-scroll">
                                {/* ë°ì´í„° 2ë²ˆ ë°˜ë³µ (ë¬´í•œ ìŠ¤í¬ë¡¤) */}
                                {[...tickerData, ...tickerData].map((item, index) => (
                                    <div key={index} className="flex items-center px-6 whitespace-nowrap">
                                        <span className="text-white/90 text-sm font-semibold mr-2">
                                            {item.name}
                                        </span>
                                        <span className="text-white text-base font-bold mr-2">
                                            {item.symbol === '^TNX' 
                                                ? `${formatNumber(item.price, 3)}%`
                                                : formatNumber(item.price)}
                                        </span>
                                        <span className={`text-xs font-medium px-2 py-1 rounded ${getChangeClass(item.change)}`}>
                                            {getChangeSymbol(item.change)} {Math.abs(item.changePercent).toFixed(2)}%
                                        </span>
                                    </div>
                                ))}
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        // ë©”ì¸ ëŒ€ì‹œë³´ë“œ ì»´í¬ë„ŒíŠ¸
        function PortfolioDashboard() {
            
            // ë§í¬ ì •ë³´ (ì‚¬ìš©ì ì½”ë“œ)
            const links = [
                { name: 'í‹°ìŠ¤í† ë¦¬ ë¸”ë¡œê·¸', url: 'https://hanglestocks.tistory.com', icon: 'fa-t', customIcon: true, color: 'from-orange-500 to-red-500' },
                { name: 'Threads', url: 'https://www.threads.com/@sgfindreamer?hl=ko', icon: 'fa-at', customIcon: false, color: 'from-purple-500 to-pink-500' },
                { name: 'LinkedIn', url: 'https://www.linkedin.com/in/heyjinwoo', icon: 'fa-linkedin', customIcon: false, color: 'from-blue-600 to-blue-700' },
                { name: 'GitHub', url: 'https://github.com/superjin1218', icon: 'fa-github', customIcon: false, color: 'from-gray-700 to-gray-900' },
                { name: 'ì¸í•˜ëŒ€ì£¼ì‹í†¡ë°©', url: 'https://open.kakao.com/o/gCDc4BHg', icon: 'kakao', customIcon: true, color: 'from-yellow-400 to-yellow-500' }
            ];

            return (
                <div className="container mx-auto p-4 md:p-8 max-w-7xl">
                    {/* --- 1. í—¤ë” --- */}
                    <h1 className="text-4xl md:text-5xl font-bold text-white text-center mb-8 shadow-text">
                        Jinwoo's Story
                    </h1>

                    {/* --- ê¸ˆìœµ í‹°ì»¤ ì¶”ê°€ --- */}
                    <FinanceTicker />

                    {/* --- 2. ì†Œì…œ ë§í¬ ì„¹ì…˜ --- */}
                    <div className="mb-12">
                        <h2 className="text-3xl font-bold text-gray-800 mb-6 flex items-center">
                            <i className="fas fa-link mr-3"></i>
                            ë‚´ ë§í¬
                        </h2>
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                            {links.map((link, index) => (
                                
                                    key={index}
                                    href={link.url}
                                    target="_blank"
                                    rel="noopener noreferrer"
                                    className={`bg-gradient-to-br ${link.color} p-6 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1`}
                                >
                                    <div className="flex items-center space-x-4">
                                        {link.customIcon ? (
                                            link.icon === 'kakao' ? (
                                                <div className="text-3xl text-white font-black" style={{fontFamily: 'Arial, sans-serif'}}>
                                                    kakao
                                                </div>
                                            ) : (
                                                <div className="text-3xl text-white font-black" style={{fontFamily: 'Arial, sans-serif'}}>
                                                    tistory
                                                </div>
                                            )
                                        ) : (
                                            <i className={`fab ${link.icon} text-3xl text-white`}></i>
                                        )}
                                        <div>
                                            <h3 className="text-white font-bold text-lg">{link.name}</h3>
                                            <p className="text-white text-sm opacity-80">ë°©ë¬¸í•˜ê¸°</p>
                                        </div>
                                    </div>
                                </a>
                            ))}
                        </div>
                    </div>

                    {/* --- 3. ê²½ë ¥ ë° ìˆ˜ìƒ ì„¹ì…˜ --- */}
                    <div className="mb-12">
                        <h2 className="text-3xl font-bold text-gray-800 mb-6 flex items-center">
                            <i className="fas fa-trophy mr-3"></i>
                            ê²½ë ¥ ë° ìˆ˜ìƒ
                        </h2>
                        <div className="bg-white/90 backdrop-blur-sm rounded-xl shadow-lg p-8">
                            <div className="space-y-6">
                                {/* 2022ë…„ */}
                                <div className="border-l-4 border-orange-500 pl-6">
                                    <h3 className="text-xl font-bold text-gray-800 mb-2">2022</h3>
                                    <ul className="space-y-2 text-gray-700">
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-orange-500 text-xs mt-2 mr-3"></i>
                                            <span>joì‹ì´ì•¼ê¸° í‹°ìŠ¤í† ë¦¬ ê°œì„¤ (ëˆ„ì  ì¡°íšŒìˆ˜ 3ë§ŒíšŒ ëŒíŒŒ)</span>
                                        </li>
                                    </ul>
                                </div>

                                {/* 2023ë…„ */}
                                <div className="border-l-4 border-blue-500 pl-6">
                                    <h3 className="text-xl font-bold text-gray-800 mb-2">2023</h3>
                                    <ul className="space-y-2 text-gray-700">
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-blue-500 text-xs mt-2 mr-3"></i>
                                            <span>ìƒëª…ëŒ€-ì¸í•˜ëŒ€ AWS ëŒ€íšŒ Top 6</span>
                                        </li>
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-blue-500 text-xs mt-2 mr-3"></i>
                                            <span>CFA ë¦¬ì„œì¹˜ ì±Œë¦°ì§€ ì™„ì£¼</span>
                                        </li>
                                    </ul>
                                </div>

                                {/* 2024ë…„ */}
                                <div className="border-l-4 border-purple-500 pl-6">
                                    <h3 className="text-xl font-bold text-gray-800 mb-2">2024</h3>
                                    <ul className="space-y-2 text-gray-700">
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-purple-500 text-xs mt-2 mr-3"></i>
                                            <span>ê·¸ë¡œìŠ¤í†¤ ì•„ì´ë””ì–´í†¤ ìµœìš°ìˆ˜ìƒ</span>
                                        </li>
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-purple-500 text-xs mt-2 mr-3"></i>
                                            <span>ì•„ê·¸í†¤ ìš°ìˆ˜ìƒ</span>
                                        </li>
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-purple-500 text-xs mt-2 mr-3"></i>
                                            <span>DB ê°­ìŠ¤íˆ¬ìëŒ€íšŒ ë³¸ì„  ì§„ì¶œ</span>
                                        </li>
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-purple-500 text-xs mt-2 mr-3"></i>
                                            <span>StockTalk Inha ì˜¤í”ˆì±„íŒ…ë°© ê°œì„¤ (í˜„ 580ëª…)</span>
                                        </li>
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-purple-500 text-xs mt-2 mr-3"></i>
                                            <span>ì¸í•˜ëŒ€ ì½”ë”©ë”©ë™ì•„ë¦¬ ë„¤í„°ìŠ¤ C++ ê¸°ì´ˆêµìœ¡ ì§„í–‰</span>
                                        </li>
                                    </ul>
                                </div>

                                {/* 2025ë…„ */}
                                <div className="border-l-4 border-green-500 pl-6">
                                    <h3 className="text-xl font-bold text-gray-800 mb-2">2025</h3>
                                    <ul className="space-y-2 text-gray-700">
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-green-500 text-xs mt-2 mr-3"></i>
                                            <span>ì¸ì²œì—°í•©ì£¼ì‹ë™ì•„ë¦¬ I.T.T ì„ì› (3ì›”~í˜„ì¬)</span>
                                        </li>
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-green-500 text-xs mt-2 mr-3"></i>
                                            <span>ê¸ˆìœµí•˜ëŠ” ìš©ê°€ë¦¬ ì“°ë ˆë“œ ìš´ì˜ ì‹œì‘ (í˜„ì¬)</span>
                                        </li>
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-green-500 text-xs mt-2 mr-3"></i>
                                            <span>ë¬´ì—­ë³´í—˜ ë¹…ë°ì´í„° ë¶„ì„ê³¼ì œ ê³µëª¨ì „ ëŒ€ìƒ</span>
                                        </li>
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-green-500 text-xs mt-2 mr-3"></i>
                                            <span>í•œêµ­ë””ì§€í„¸ì»¨í…ì¸ í•™íšŒ í•˜ê³„í•™ìˆ ëŒ€íšŒ ì€ìƒ(ì£¼ì œ: Masterë¥¼ í™œìš©í•œ ì‹œê·¸ëª¨ì´ë“œ í•¨ìˆ˜ì˜ ì£¼ì‹ì‹œì¥ ì˜ˆì¸¡ ìœ íš¨ì„± ê²€ì¦)</span>
                                        </li>
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-green-500 text-xs mt-2 mr-3"></i>
                                            <span>íˆ¬ììì‚°ìš´ìš©ì‚¬ ìê²© ì·¨ë“</span>
                                        </li>
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-green-500 text-xs mt-2 mr-3"></i>
                                            <span>ì–´ë“œë²¤í…ì½”ë¦¬ì•„ AIoT ëŒ€íšŒ ë³¸ì„  ì§„ì¶œ</span>
                                        </li>
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-green-500 text-xs mt-2 mr-3"></i>
                                            <span>ì‚¼ì„±í™”ì¬XPostechXì„œìš¸ëŒ€ ì œ 3íšŒ ì „êµ­ëŒ€í•™ìƒë¦¬ìŠ¤í¬ê´€ë¦¬ ê²½ì§„ëŒ€íšŒ ì°¸ê°€(ì—­í• : ë¨¸ì‹ ëŸ¬ë‹ì„ í™œìš©í•œ íƒœí’ í”¼í•´ê·œëª¨ì˜ˆì¸¡)</span>
                                        </li>
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-green-500 text-xs mt-2 mr-3"></i>
                                            <span>ì¸í•˜ëŒ€ ë®¤ì¶”ì–¼í€ë“œ ë¸”ë£¨ì¹© ì‚¬ì› (7ì›”~í˜„ì¬)</span>
                                        </li>
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-green-500 text-xs mt-2 mr-3"></i>
                                            <span>í•œêµ­íˆ¬ìì¦ê¶Œ ëŒ€í•™ìƒ íˆ¬ìëŒ€íšŒ íŒ€ì „ 4ë“±</span>
                                        </li>
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-green-500 text-xs mt-2 mr-3"></i>
                                            <span>ìë™ë§¤ë§¤ë™ì•„ë¦¬ Project Auto ìš´ì˜</span>
                                        </li>
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-green-500 text-xs mt-2 mr-3"></i>
                                            <span>1í•™ê¸° ë¸”ë¡ì²´ì¸ í•™íšŒ Bluenode íšŒì›</span>
                                        </li>
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-green-500 text-xs mt-2 mr-3"></i>
                                            <span>WorldQuant ë³¸ì„  ì§„ì¶œ</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                </div>
            );
        }

        // 2. React ì•±ì„ DOMì— ë Œë”ë§
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<PortfolioDashboard />);
    </script>
</body>
</html>
