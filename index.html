<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jinwoo's Story</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* 텍스트 그림자 (가독성 향상) */
        .shadow-text {
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        /* 티커 애니메이션 */
        @keyframes scroll-left {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(-50%);
            }
        }

        .ticker-scroll {
            animation: scroll-left 40s linear infinite;
        }

        .ticker-container:hover .ticker-scroll {
            animation-play-state: paused;
        }

        /* 스피너 애니메이션 */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .spinner {
            animation: spin 1s linear infinite;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-sky-400 via-blue-300 to-cyan-400 min-h-screen">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // ========== 금융 티커 컴포넌트 ==========
        function FinanceTicker() {
            const [tickerData, setTickerData] = useState([]);
            const [loading, setLoading] = useState(true);
            const [error, setError] = useState(false);
            const [updateTime, setUpdateTime] = useState('');

            // ✅ 당신의 Finnhub API 키
            const FINNHUB_API_KEY = 'd481cnhr01qk80bivq1gd481cnhr01qk80bivq20';

            // 표시할 종목 설정
            const SYMBOLS = {
                'SPY': 'S&P 500',
                'QQQ': '나스닥',
                '005930.KS': '코스피',  // 삼성전자
                '035720.KQ': '코스닥',  // 카카오
                'GLD': '금',
                'USO': '원유',
                'UNG': '천연가스',
            };

            // 개별 종목 데이터 가져오기
            const fetchStockData = async (symbol) => {
                try {
                    const response = await fetch(
                        `https://finnhub.io/api/v1/quote?symbol=${symbol}&token=${FINNHUB_API_KEY}`
                    );
                    
                    if (!response.ok) throw new Error('API Error');
                    
                    const data = await response.json();
                    
                    // 데이터 유효성 검사
                    if (data.c === 0 || data.c === null) {
                        console.warn(`${symbol}: 데이터 없음`);
                        return null;
                    }
                    
                    return {
                        symbol: symbol,
                        name: SYMBOLS[symbol],
                        price: data.c,
                        change: data.d,
                        changePercent: data.dp,
                        previousClose: data.pc
                    };
                } catch (error) {
                    console.error(`Error fetching ${symbol}:`, error);
                    return null;
                }
            };

            // 모든 종목 데이터 가져오기
            const fetchAllStocks = async () => {
                try {
                    setLoading(true);
                    
                    const promises = Object.keys(SYMBOLS).map(symbol => 
                        fetchStockData(symbol)
                    );
                    
                    const results = await Promise.all(promises);
                    const validData = results.filter(item => item !== null);
                    
                    if (validData.length > 0) {
                        setTickerData(validData);
                        setError(false);
                        updateTimeDisplay();
                    } else {
                        setError(true);
                    }
                } catch (error) {
                    console.error('Fetch error:', error);
                    setError(true);
                } finally {
                    setLoading(false);
                }
            };

            // 업데이트 시간 표시
            const updateTimeDisplay = () => {
                const now = new Date();
                const hours = String(now.getHours()).padStart(2, '0');
                const minutes = String(now.getMinutes()).padStart(2, '0');
                setUpdateTime(`${hours}:${minutes}`);
            };

            // 초기 로드 및 1분마다 업데이트
            useEffect(() => {
                fetchAllStocks();
                const interval = setInterval(fetchAllStocks, 60000);
                return () => clearInterval(interval);
            }, []);

            // 숫자 포맷팅
            const formatNumber = (num, decimals = 2) => {
                if (typeof num !== 'number' || isNaN(num)) return '0.00';
                return num.toFixed(decimals).replace(/\B(?=(\d{3})+(?!\d))/g, ',');
            };

            // 변동 색상 결정
            const getChangeClass = (change) => {
                if (change > 0) return 'bg-green-500/20 text-green-300';
                if (change < 0) return 'bg-red-500/20 text-red-300';
                return 'bg-gray-500/20 text-gray-300';
            };

            const getChangeSymbol = (change) => {
                if (change > 0) return '▲';
                if (change < 0) return '▼';
                return '－';
            };

            return (
                <div className="mb-8 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 rounded-xl shadow-xl overflow-hidden">
                    {/* 상단 정보 바 */}
                    <div className="flex justify-between items-center px-4 py-2 bg-black/20">
                        <span className="text-white text-sm font-semibold flex items-center">
                            <i className="fas fa-chart-line mr-2"></i>
                            실시간 금융정보
                        </span>
                        <span className="text-white/70 text-xs">
                            {updateTime && `${updateTime} 업데이트`}
                        </span>
                    </div>

                    {/* 티커 컨테이너 */}
                    <div className="relative h-14 overflow-hidden ticker-container">
                        {/* 좌우 그라데이션 효과 */}
                        <div className="absolute left-0 top-0 bottom-0 w-12 bg-gradient-to-r from-indigo-600 to-transparent z-10 pointer-events-none"></div>
                        <div className="absolute right-0 top-0 bottom-0 w-12 bg-gradient-to-l from-pink-600 to-transparent z-10 pointer-events-none"></div>

                        {/* 로딩 상태 */}
                        {loading && (
                            <div className="flex items-center justify-center h-full">
                                <div className="w-5 h-5 border-2 border-white/30 border-t-white rounded-full spinner mr-2"></div>
                                <span className="text-white/70 text-sm">데이터 로딩중...</span>
                            </div>
                        )}

                        {/* 에러 상태 */}
                        {error && !loading && (
                            <div className="flex items-center justify-center h-full px-4">
                                <span className="text-yellow-300 text-sm">
                                    ⚠️ 현재 금융 데이터를 불러올 수 없습니다
                                </span>
                            </div>
                        )}

                        {/* 티커 데이터 표시 */}
                        {!loading && !error && tickerData.length > 0 && (
                            <div className="flex absolute ticker-scroll">
                                {[...tickerData, ...tickerData].map((item, index) => (
                                    <div key={index} className="flex items-center px-6 whitespace-nowrap">
                                        <span className="text-white/90 text-sm font-semibold mr-2">
                                            {item.name}
                                        </span>
                                        <span className="text-white text-base font-bold mr-2">
                                            ${formatNumber(item.price)}
                                        </span>
                                        <span className={`text-xs font-medium px-2 py-1 rounded ${getChangeClass(item.change)}`}>
                                            {getChangeSymbol(item.change)} {Math.abs(item.changePercent).toFixed(2)}%
                                        </span>
                                    </div>
                                ))}
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        // ========== 메인 대시보드 컴포넌트 ==========
        function PortfolioDashboard() {
            
            // 링크 정보
            const links = [
                { name: '티스토리 블로그', url: 'https://hanglestocks.tistory.com', icon: 'fa-t', customIcon: true, color: 'from-orange-500 to-red-500' },
                { name: 'Threads', url: 'https://www.threads.com/@sgfindreamer?hl=ko', icon: 'fa-at', customIcon: false, color: 'from-purple-500 to-pink-500' },
                { name: 'LinkedIn', url: 'https://www.linkedin.com/in/heyjinwoo', icon: 'fa-linkedin', customIcon: false, color: 'from-blue-600 to-blue-700' },
                { name: 'GitHub', url: 'https://github.com/superjin1218', icon: 'fa-github', customIcon: false, color: 'from-gray-700 to-gray-900' },
                { name: '인하대주식톡방', url: 'https://open.kakao.com/o/gCDc4BHg', icon: 'kakao', customIcon: true, color: 'from-yellow-400 to-yellow-500' }
            ];

            return (
                <div className="container mx-auto p-4 md:p-8 max-w-7xl">
                    {/* --- 1. 헤더 --- */}
                    <h1 className="text-4xl md:text-5xl font-bold text-white text-center mb-8 shadow-text">
                        Jinwoo's Story
                    </h1>

                    {/* --- 금융 티커 --- */}
                    <FinanceTicker />

                    {/* --- 2. 소셜 링크 섹션 --- */}
                    <div className="mb-12">
                        <h2 className="text-3xl font-bold text-gray-800 mb-6 flex items-center">
                            <i className="fas fa-link mr-3"></i>
                            내 링크
                        </h2>
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                            {links.map((link, index) => (
                                
                                    key={index}
                                    href={link.url}
                                    target="_blank"
                                    rel="noopener noreferrer"
                                    className={`bg-gradient-to-br ${link.color} p-6 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1`}
                                >
                                    <div className="flex items-center space-x-4">
                                        {link.customIcon ? (
                                            link.icon === 'kakao' ? (
                                                <div className="text-3xl text-white font-black" style={{fontFamily: 'Arial, sans-serif'}}>
                                                    kakao
                                                </div>
                                            ) : (
                                                <div className="text-3xl text-white font-black" style={{fontFamily: 'Arial, sans-serif'}}>
                                                    tistory
                                                </div>
                                            )
                                        ) : (
                                            <i className={`fab ${link.icon} text-3xl text-white`}></i>
                                        )}
                                        <div>
                                            <h3 className="text-white font-bold text-lg">{link.name}</h3>
                                            <p className="text-white text-sm opacity-80">방문하기</p>
                                        </div>
                                    </div>
                                </a>
                            ))}
                        </div>
                    </div>

                    {/* --- 3. 경력 및 수상 섹션 --- */}
                    <div className="mb-12">
                        <h2 className="text-3xl font-bold text-gray-800 mb-6 flex items-center">
                            <i className="fas fa-trophy mr-3"></i>
                            경력 및 수상
                        </h2>
                        <div className="bg-white/90 backdrop-blur-sm rounded-xl shadow-lg p-8">
                            <div className="space-y-6">
                                {/* 2022년 */}
                                <div className="border-l-4 border-orange-500 pl-6">
                                    <h3 className="text-xl font-bold text-gray-800 mb-2">2022</h3>
                                    <ul className="space-y-2 text-gray-700">
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-orange-500 text-xs mt-2 mr-3"></i>
                                            <span>jo식이야기 티스토리 개설 (누적 조회수 3만회 돌파)</span>
                                        </li>
                                    </ul>
                                </div>

                                {/* 2023년 */}
                                <div className="border-l-4 border-blue-500 pl-6">
                                    <h3 className="text-xl font-bold text-gray-800 mb-2">2023</h3>
                                    <ul className="space-y-2 text-gray-700">
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-blue-500 text-xs mt-2 mr-3"></i>
                                            <span>상명대-인하대 AWS 대회 Top 6</span>
                                        </li>
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-blue-500 text-xs mt-2 mr-3"></i>
                                            <span>CFA 리서치 챌린지 완주</span>
                                        </li>
                                    </ul>
                                </div>

                                {/* 2024년 */}
                                <div className="border-l-4 border-purple-500 pl-6">
                                    <h3 className="text-xl font-bold text-gray-800 mb-2">2024</h3>
                                    <ul className="space-y-2 text-gray-700">
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-purple-500 text-xs mt-2 mr-3"></i>
                                            <span>그로스톤 아이디어톤 최우수상</span>
                                        </li>
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-purple-500 text-xs mt-2 mr-3"></i>
                                            <span>아그톤 우수상</span>
                                        </li>
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-purple-500 text-xs mt-2 mr-3"></i>
                                            <span>DB 갭스투자대회 본선 진출</span>
                                        </li>
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-purple-500 text-xs mt-2 mr-3"></i>
                                            <span>StockTalk Inha 오픈채팅방 개설 (현 580명)</span>
                                        </li>
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-purple-500 text-xs mt-2 mr-3"></i>
                                            <span>인하대 주식동아리 네터스 C++ 기초교육 진행</span>
                                        </li>
                                    </ul>
                                </div>

                                {/* 2025년 */}
                                <div className="border-l-4 border-green-500 pl-6">
                                    <h3 className="text-xl font-bold text-gray-800 mb-2">2025</h3>
                                    <ul className="space-y-2 text-gray-700">
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-green-500 text-xs mt-2 mr-3"></i>
                                            <span>인천연합주식동아리 I.T.T 임원 (3월~현재)</span>
                                        </li>
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-green-500 text-xs mt-2 mr-3"></i>
                                            <span>금융하는 용가리 쓰레드 운영 시작 (현재)</span>
                                        </li>
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-green-500 text-xs mt-2 mr-3"></i>
                                            <span>무역보험 빅데이터 분석과제 공모전 대상</span>
                                        </li>
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-green-500 text-xs mt-2 mr-3"></i>
                                            <span>한국디지털컨텐츠학회 하계학술대회 은상(주제: Master를 활용한 시그모이드 함수의 주식시장 예측 유효성 검증)</span>
                                        </li>
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-green-500 text-xs mt-2 mr-3"></i>
                                            <span>투자자산운용사 자격 취득</span>
                                        </li>
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-green-500 text-xs mt-2 mr-3"></i>
                                            <span>어드벤텍코리아 AIoT 대회 본선 진출</span>
                                        </li>
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-green-500 text-xs mt-2 mr-3"></i>
                                            <span>인하대 뮤추얼펀드 블루칩 사원 (7월~현재)</span>
                                        </li>
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-green-500 text-xs mt-2 mr-3"></i>
                                            <span>한국투자증권 대학생 투자대회 팀전 4등</span>
                                        </li>
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-green-500 text-xs mt-2 mr-3"></i>
                                            <span>자동매매동아리 Project Auto 운영</span>
                                        </li>
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-green-500 text-xs mt-2 mr-3"></i>
                                            <span>1학기 블록체인 학회 Bluenode 회원</span>
                                        </li>
                                        <li className="flex items-start">
                                            <i className="fas fa-circle text-green-500 text-xs mt-2 mr-3"></i>
                                            <span>WorldQuant 본선 진출</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                </div>
            );
        }

        // React 앱 렌더링
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<PortfolioDashboard />);
    </script>
</body>
</html>
